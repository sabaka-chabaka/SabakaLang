<Window x:Class="SabakaIDE.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SabakaIDE"
        xmlns:avalonedit="http://icsharpcode.net/sharpdevelop/avalonedit"
        mc:Ignorable="d"
        Title="SabakaIDE" Height="1080" Width="1920" WindowState="Maximized">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>   <!-- Top bar -->
            <RowDefinition Height="*"/>    <!-- Editor -->
            <RowDefinition Height="150"/> 
        </Grid.RowDefinitions>
        <Grid Background="#2f2f2f">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Background="#2f2f2f" >
                <Button x:Name="RunButton"
                        Content="▶"
                        Width="28"
                        Height="28"
                        HorizontalAlignment="Right"
                        
                        Margin="0, 0, 25, 0"
                        Background="#3C3F41"
                        Foreground="LightGreen"
                        BorderBrush="#3C3F41"
                        Click="RunButton_Click"/>
                <Button Content="📂"
                        Width="28"
                        Height="28"
                        HorizontalAlignment="Right"
                        Background="#3C3F41"
                        Margin="0, 0, 25, 0"
                        FontFamily="./Fonts/#JetBrains Mono"
                        BorderBrush="#3C3F41"
                        Click="OpenButton_OnClick"/>
                <Button Content="💾"
                        Width="28"
                        Height="28"
                        HorizontalAlignment="Right"
                        Margin="0, 0, 25, 0"
                        FontFamily="./Fonts/#JetBrains Mono"
                        Background="#3C3F41"
                        BorderBrush="#3C3F41"
                        Click="SaveButton_OnClick"/>
                <Button Content="💾as"
                        Width="28"
                        Height="28"
                        HorizontalAlignment="Right"
                        Margin="0, 0, 25, 0"
                        Background="#3C3F41"
                        FontFamily="./Fonts/#JetBrains Mono"
                        BorderBrush="#3C3F41"
                        Click="SaveAsButton_OnClick"/>
            </StackPanel>
        </Grid>
        
        <avalonedit:TextEditor Grid.Row="1" x:Name="Editor"
                               ShowLineNumbers="True"
                               FontFamily="./Fonts/#JetBrains Mono"
                               FontSize="14"
                               Background="#212121"
                               Foreground="White" 
                               />
        
        <Grid Grid.Row="2" Background="#1E1E1E">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <TextBox
                x:Name="OutputBox"
                Grid.Row="0"
                Background="#1E1E1E"
                Foreground="LightGreen"
                BorderThickness="0"
                IsReadOnly="True"
                TextWrapping="Wrap"
                FontFamily="./Fonts/#JetBrains Mono"
                FontSize="16"
                VerticalScrollBarVisibility="Auto"/>
            <TextBox
                x:Name="InputBox"
                Grid.Row="1"
                Background="#2D2D2D"
                Foreground="White"
                BorderThickness="0,1,0,0"
                BorderBrush="#3E3E42"
                FontFamily="./Fonts/#JetBrains Mono"
                FontSize="16"
                Padding="5,2"
                KeyDown="InputBox_KeyDown"/>
        </Grid>

    </Grid>
    <Window.Resources>
        <!-- FLAT SCROLLBAR STYLE -->
        <Style TargetType="ScrollBar">
            <Setter Property="Width" Value="4"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollBar">
                        <Grid Background="Transparent">

                            <!-- Track -->
                            <Track x:Name="PART_Track"
                                   IsDirectionReversed="True">

                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="ScrollBar.PageUpCommand"
                                                  Opacity="0"/>
                                </Track.DecreaseRepeatButton>

                                <Track.Thumb>
                                    <Thumb>
                                        <Thumb.Style>
                                            <Style TargetType="Thumb">
                                                <Setter Property="Background" Value="#4E4E4E"/>
                                                <Setter Property="BorderThickness" Value="0"/>
                                                <Setter Property="Margin" Value="0"/>
                                                <Style.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#6A6A6A"/>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Thumb.Style>
                                    </Thumb>
                                </Track.Thumb>

                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="ScrollBar.PageDownCommand"
                                                  Opacity="0"/>
                                </Track.IncreaseRepeatButton>

                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Window.CommandBindings>
        <CommandBinding Command="Save"
                        Executed="Save_Executed"
                        CanExecute="Save_CanExecute"/>
        <CommandBinding Command="Play"
                        Executed="Run_Executed"
                        CanExecute="Run_CanExecute"/>
    </Window.CommandBindings>

    <Window.InputBindings>
        <KeyBinding Command="Play"
                    Key="F5"/>
    </Window.InputBindings>

</Window>